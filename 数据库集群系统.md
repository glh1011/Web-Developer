# 数据库集群系统
## 　分析
　　随着旧书交易平台的宣传推广，用户数量、数据量很可能会有大幅增长，在这样一个不断增长的环境下，数据库面临着严峻的考验。在WEB应用或高性能计算中，为了追求更高的性能及可用性，大家都采用计算机集群技术（将多台服务器联合起来组成集群来实现综合性能优于单个大型服务器的技术）来实现，这种技术不但能满足应用的需要，还大幅度地节约了投资成本。在数据库上，组建集群也是同样的道理，因此我们应用平台采取数据库集群系统主要有以下原因：
<ol>
<li>业务量提高的同时，数据库的访问量和数据量快速增长，其处理能力和计算强度也相应增大，使得单一设备根本无法承担。在此情况下，若扔掉现有设备做大量的硬件升级，势必造成现有资源的浪费，而且下一次业务量提升时，又将面临再一次硬件升级的高额投
入。于是，通过几个中小型服务器组建集群，实现数据库的负载均衡及持续扩展；在需要更高数据库处理速度时，只要简单地增加数据库服务器就可以得到扩展就显得尤为重要。
</li>
<li>数据库作为信息系统的核心，起着非常重要的作用，单一设备根本无法保证系统的持续运行，若发生系统故障，并且严重影响系统的正常运行，从而带来各方面的损失。于是，就可以通过组建数据库集群，实现数据库的高可用性，当某节点发生故障时，系统会自动检测故障并转移故障节点的应用，保证数据库的持续工作。</li>
<li>数据信息往往是很多企业的命脉，单一设备根本无法保证数据的安全性，一旦发生丢失，数据便很难再找回来。这时，通过组建数据库集群，实现数据集的冗余，通过多份数据来保证安全性。</li>
</ol>

## 　实现
　　对于现有类别的数据库系统集群进行了解分析后，我们旧书交易平台可以采用共享磁盘系统。共享磁盘使用了共享文件系统，多个系统访问同一组磁盘。集群中的所有节点必须都能访问共享的磁盘。Oracle共享磁盘系统只运行一个数据库，多个实例都访问同一个数据库。Oracle RAC (oracle真正应用集群)就是一个共享磁盘系统，它实现了多个实例同时访问共享磁盘中的同一个数据库文件。共享磁盘系统中，集群中的多个节点共享同一组共享磁盘，这些磁盘通常配置为某种类型的RAID(如IBM DS4700 )。通常会有一组用来保存集群信息的磁盘，称为quorum盘。RAC中有一个quorum文件，保存在共享的磁盘中，由各个节点来维护，它保存了集群的相关信息。
<br></br>  
<div align=center>
![](Web-Developer/ORACLERAC.png)
</div>
<br></br>
　　RAC存在的问题主要体现在稳定性和高性能方面
<ol>
<li>稳定性</li>
　　由于各种硬件设备、操作系统的厂商不同，有时候在兼容性上会存在问题，同时，由于RAC本身也存在不少bug，很多部署的RAC环境缺乏在上线前对环境的检查和测试，导致在运行过程中出现一系列不稳定的情况，这样高可用性并没有得到充分的体现。因此，稳定的硬件环境加上稳定的RAC版本，决定着RAC运行的稳定性。旧书交易平台数据库在安装配置前要进行大量的环境检查、验证，部署后的大量测试工作都是非常重要的。
<li>高性能</li>
　　在目前普遍使用千兆网络的硬件环境中，很多时候系统的数据库从原来的单机迁移至RAC环境，系统的性能反而下降。这样就需要我们更加合理的设计、开发和调整系统，以达到提高性能的目的。
</ol>
